<h3 ng-show="$ctrl.complete">Your information has been saved</h3>

<fieldset>
  <form name="regForm" novalidate>
    <div class="form-group">
      <label for="forname">First name</label>
      <input type="text" class="form-control" id="forname" name="forname"
        ng-model="$ctrl.user.forname"
        ng-minlength="{{ $ctrl.minLength }}"
        ng-maxlength="{{ $ctrl.maxLength }}"
        required
      >

      <div class="error-message"
        ng-if="(regForm.forname.$error.minlength || regForm.forname.$error.required) && regForm.forname.$touched">
        Forname must be at least {{ $ctrl.minLength }} characters long
      </div>

      <div class="error-message"
        ng-if="regForm.forname.$error.maxlength && regForm.forname.$touched">
        Forname must not be longer than {{ $ctrl.maxLength }} characters
      </div>
    </div>

    <div class="form-group">
      <label for="surname">Last name</label>
      <input type="text" class="form-control" id="surname" name="surname"
        ng-model="$ctrl.user.surname"
        ng-minlength="{{ $ctrl.minLength }}"
        ng-maxlength="{{ $ctrl.maxLength }}"
        required
      >

      <div class="error-message"
        ng-if="(regForm.surname.$error.minlength || regForm.surname.$error.required) && regForm.surname.$touched">
        Surname must be at least {{ $ctrl.minLength }} characters long
      </div>

      <div class="error-message"
        ng-if="regForm.surname.$error.maxlength && regForm.surname.$touched">
        Surname must not be longer than {{ $ctrl.maxLength }} characters
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" name="email"
        ng-model="$ctrl.user.email"
        required
      >

      <div class="error-message"
        ng-if="regForm.email.$invalid && regForm.email.$touched"
      >
        Must be a valid email address: handle@domain format
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Phone</label>
      <input type="text" class="form-control" id="phone" name="phone"
        placeholder="###-###-####"
        ng-model="$ctrl.user.phone"
        pattern="(\d{3})-(\d{3})-(\d{4})"
        required
      >

      <div class="error-message"
        ng-if="regForm.phone.$invalid && regForm.phone.$touched"
      >
        Phone must be in the format ###-###-####.
      </div>
    </div>

    <div class="form-group">
      <label for="menuItem">Favourite meal</label>
      <input type="text" class="form-control" id="menuItem" name="menuItem"
        ng-model="$ctrl.user.menuItem"
        required
        item-available
      >

      <div class="error-message"
        ng-if="regForm.menuItem != '' && regForm.menuItem.$invalid && regForm.menuItem.$touched"
      >
        No such menu number exists.
      </div>
    </div>

    <button class="btn btn-warning"
      ng-disabled="regForm.$invalid"
      ng-click="$ctrl.submit({user: $ctrl.user})">Submit</button>
  </form>
</fieldset>
